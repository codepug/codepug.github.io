function AWT(){"use strict";function e(e,t){var n=t,r=0,i=0;if(void 0!==n.offsetParent)do r+=n.offsetLeft,i+=n.offsetTop;while(n=n.offsetParent);return{x:e.pageX-r,y:e.pageY-i}}function t(e){var t=0;for(t=0;t<L.length;t+=1)L[t](e);E||u()}function n(t){var n,r=e(t,S.canvas);for(W=r.y,O=r.x,n=0;n<P.length;n+=1)P[n](r.x,r.y);E||u()}function r(t){var n,r=e(t,S.canvas);for(n=0;n<I.length;n+=1)I[n](r.x,r.y);E||u()}function i(t){var n,r=e(t,S.canvas);for(n=0;n<q.length;n+=1)q[n](r.x,r.y);E||u()}function o(e,o,a){var s=document.getElementById(e);document.addEventListener("mouseup",i,!1),document.getElementsByTagName("body")[0].onkeydown=t,s.onmousemove=n,s.onmousedown=r,s.onmouseup=i,R=o,"undefined"==typeof a&&(a=!0),M(a),s.getContext&&(S=s.getContext("2d"),C=(new Date).getTime(),f()),u()}function a(e,t){if(DEBUG){var n=Math.floor(1e3/t);b(n+" fps",S.canvas.width,0,"#ff0000","normal 18px sans-serif",!1,!1,"right"),b("X:"+O+", Y:"+W,S.canvas.width,20,"#ff0000","normal 18px sans-serif",!1,!1,"right")}}function u(){var e=(new Date).getTime(),t=e-C;C=e,CLEAR_BACKGROUND&&S.clearRect(0,0,S.canvas.width,S.canvas.height),R(S,t),a(S,t)}function f(){u(),E&&requestAnimFrame(function(){f()})}function s(){return S}function d(e){var t=new Image;return t.src=e,t.onload=u,t}function l(e,t,n){S.drawImage(e,t,n)}function c(e,t,n,r,i,o,a,u){S.save(),S.translate(.5*e.width+n,.5*e.height+r),S.rotate(t.toRadians()),S.translate(.5*-e.width-n,.5*-e.height-r),a&&u?S.drawImage(e,0,0,a,u,n,r,a,u):S.drawImage(e,n,r),S.restore()}function h(e,t,n,r,i,o,a){S.beginPath(),S.rect(e,t,n,r),S.fillStyle=o,S.fill(),S.lineWidth=a,S.strokeStyle=i,S.stroke()}function g(e,t,n,r){"undefined"==typeof r&&(r="#000000"),S.beginPath(),S.fillStyle=r,S.arc(e,t,n,0,2*Math.PI,!1),S.fill()}function m(e,t,n,r,i,o,a,u,f,s){return"undefined"==typeof i&&(i="#8ED6FF"),"undefined"==typeof o&&(o="#000000"),"undefined"==typeof a&&(a=2),"undefined"==typeof s&&(s=!0),"undefined"==typeof f&&(f=!0),"undefined"==typeof u?h(e,t,n,r,i,o,a):(e+=a/2,t+=a/2,n-=a,r-=a,S.fillStyle=o,S.lineWidth=a,S.strokeStyle=i,S.beginPath(),S.moveTo(e+u,t),S.lineTo(e+n-u,t),S.quadraticCurveTo(e+n,t,e+n,t+u),S.lineTo(e+n,t+r-u),S.quadraticCurveTo(e+n,t+r,e+n-u,t+r),S.lineTo(e+u,t+r),S.quadraticCurveTo(e,t+r,e,t+r-u),S.lineTo(e,t+u),S.quadraticCurveTo(e,t,e+u,t),S.closePath(),s&&S.stroke(),void(f&&S.fill()))}function p(e,t,n,r,i,o){"undefined"==typeof o&&(o=2),"undefined"==typeof i&&(i="#8ED6FF"),S.strokeStyle=i,S.lineWidth=o,S.beginPath(),S.moveTo(e,t),S.lineTo(n,r),S.stroke()}function y(){return{x:O,y:W}}function v(e){I.push(e)}function w(e){P.push(e)}function x(e){q.push(e)}function b(e,t,n,r,i,o,a,u){if(S.fillStyle=r?r:"#FFFF00",i?i+="":i="12",S.font=1==i.split(" ").length?"bold "+i+"pt sans-serif":i,S.textAlign=u?u:"left",S.textBaseline="top",o&&!a&&(t=S.canvas.clientWidth/2-S.measureText(e).width/2),a)for(var f=A(e,a),s=T(S),d=0;d<f.length;d++)o&&(t=S.canvas.clientWidth/2-S.measureText(f[d]).width/2),S.fillText(f[d],t,n+s*d*1.2);else S.fillText(e,t,n)}function T(e){return("font"+/[0-9]+(?=pt|px)/.exec(e.font)).replace("font","")}function A(e,t){t===!0&&(t=S.canvas.clientWidth);for(var n,r,i,o,a=[];e.length;){for(o=e.length;S.measureText(e.substr(0,o)).width>t;o--);if(r=e.substr(0,o),o!==e.length)for(i=0;-1!==r.indexOf(" ",i);i=r.indexOf(" ",i)+1);a.push(r.substr(0,i||r.length)),n=Math.max(n,S.measureText(a[a.length-1]).width),e=e.substr(a[a.length-1].length,e.length)}return a}function M(e){E=e}function F(e){return Math.floor(Math.random()*e)}function D(e){L.push(e)}var C,S,R,I=[],P=[],q=[],L=[],O=-1,W=-1,E=!0;return window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),{init:o,getImage:d,getGraphics:s,drawRect:m,drawCircle:g,drawImage:l,drawImageRotated:c,drawString:b,drawLine:p,addMouseDownListener:v,addMouseMoveListener:w,addMouseUpListener:x,getMousePosition:y,addKeyDownListener:D,repaint:u,enableGameLoop:M,rand:F}}function randomIntFrom(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function createArray(e){var t=new Array(e||0),n=e;if(arguments.length>1)for(var r=Array.prototype.slice.call(arguments,1);n--;)t[e-1-n]=createArray.apply(this,r);return t}var DEBUG=!1,CLEAR_BACKGROUND=!0;String.prototype.reverse=function(){"use strict";for(var e="",t=this.length;t>0;)e+=this.substring(t-1,t),t-=1;return e},String.prototype.startsWithIgnoreCase=function(e){return 0==this.toUpperCase().indexOf(e.toUpperCase())},"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(e){return 0==this.indexOf(e)}),Object.defineProperty(Date.prototype,"toStringMMMDDYYYY",{value:function(){var e=["January","February","March","April","May","June","July","August","September","October","November","December"],t=this.getDate(),n=this.getMonth(),r=this.getFullYear();return e[n].substring(0,3)+" "+t+", "+r},enumerable:!1}),Object.defineProperty(Object.prototype,"toRadians",{value:function(){return this*Math.PI/180},enumerable:!1});